<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>添加用户</title>
  <style>
    form {
      display: flex;
      flex-direction: column;
      width: 300px;
      margin: 0 auto;
    }

    label {
      margin-top: 10px;
    }

    input,
    select {
      padding: 5px;
    }

    button {
      padding: 10px;
      background-color: #4CAF50;
      color: white;
      border: none;
      cursor: pointer;
      margin-top: 10px;
    }
  </style>
</head>

<body>
<h2>添加用户</h2>
<form id="addUserForm">
  <label for="username">用户名：</label>
  <input type="text" id="username" required>
  <label for="realName">用户真实姓名：</label>
  <input type="text" id="realName" required>
  <label for="gender">用户性别：</label>
  <select id="gender">
    <option value="1">男</option>
    <option value="0">女</option>
  </select>

  <label for="userType">用户类型：</label>
  <select id="userType">
    <option value="2">管理员</option>
    <option value="1">教师</option>
    <option value="0">学生</option>
  </select>
  <button type="button" onclick="addUser()">添加</button>
</form>
<script>
  function addUser() {
    const username = document.getElementById('username').value;
    const realName = document.getElementById('realName').value;
    const gender = document.getElementById('gender').value;
    const userType = document.getElementById('userType').value;
    const xhr = new XMLHttpRequest();
    xhr.open('POST', '../addUser-servlet', true);
    xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
    xhr.send(`username=${username}&realName=${realName}&gender=${gender}&userType=${userType}`);
    xhr.onreadystatechange = function () {
      if (xhr.readyState === 4 && xhr.status === 200) {
        alert("用户添加成功");
        // 可以在这里进行添加成功后的处理，比如刷新用户列表页面
        window.location.href = 'admin.html';
      }
    };
  }
</script>
</body>

</html>